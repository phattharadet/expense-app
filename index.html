<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢</title>

<style>
body{
    font-family: "Prompt", sans-serif;
    background:#f5f7fb;
    margin:0;
    padding:15px;
}

.container{
    max-width:500px;
    margin:auto;
}

.card{
    background:#fff;
    padding:20px;
    border-radius:16px;
    box-shadow:0 4px 12px rgba(0,0,0,0.08);
    margin-bottom:15px;
}

h2{
    text-align:center;
    margin-bottom:15px;
}

input, select{
    width:100%;
    padding:12px;
    margin-top:8px;
    border-radius:10px;
    border:1px solid #ddd;
    font-size:16px;
}

.button-group{
    display:flex;
    gap:10px;
    margin-top:15px;
}

button{
    flex:1;
    padding:14px;
    border:none;
    border-radius:12px;
    font-size:16px;
    cursor:pointer;
}

.add{
    background:#4CAF50;
    color:white;
}

.clear{
    background:#ff5252;
    color:white;
}

.summary{
    text-align:center;
    font-size:18px;
    margin-top:10px;
}

.income{ color:green; }
.expense{ color:red; }

table{
    width:100%;
    border-collapse:collapse;
    margin-top:10px;
}

th, td{
    padding:10px;
    text-align:center;
    border-bottom:1px solid #eee;
    font-size:14px;
}
</style>
</head>

<body>

<div class="container">

    <div class="card">
        <h2>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢</h2>

        <input type="date" id="date">

        <select id="type">
            <option value="income">‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö</option>
            <option value="expense">‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢</option>
        </select>

        <input type="number" id="amount" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô">

        <input type="text" id="note" placeholder="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏">

        <div class="button-group">
            <button class="add" onclick="addItem()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</button>
            <button class="clear" onclick="clearData()">‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå</button>
        </div>
    </div>

    <div class="card">
        <div class="summary">
            üí∞ ‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: <span id="balance">0</span> ‡∏ö‡∏≤‡∏ó
        </div>
        <div class="summary income">
            ‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö: <span id="totalIncome">0</span>
        </div>
        <div class="summary expense">
            ‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢: <span id="totalExpense">0</span>
        </div>
    </div>

    <div class="card">
        <table>
            <thead>
                <tr>
                    <th>‡∏ß‡∏±‡∏ô</th>
                    <th>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
                    <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
                </tr>
            </thead>
            <tbody id="list"></tbody>
        </table>
    </div>

</div>

<script>

const monthTH = [
"‡∏°.‡∏Ñ.","‡∏Å.‡∏û.","‡∏°‡∏µ.‡∏Ñ.","‡πÄ‡∏°.‡∏¢.","‡∏û.‡∏Ñ.","‡∏°‡∏¥.‡∏¢.",
"‡∏Å.‡∏Ñ.","‡∏™.‡∏Ñ.","‡∏Å.‡∏¢.","‡∏ï.‡∏Ñ.","‡∏û.‡∏¢.","‡∏ò.‡∏Ñ."
];

let data = JSON.parse(localStorage.getItem("data")) || [];

function formatDate(date){
    let d = new Date(date);
    return d.getDate()+" "+monthTH[d.getMonth()]+" "+(d.getFullYear()+543);
}

function addItem(){
    let date = document.getElementById("date").value;
    let type = document.getElementById("type").value;
    let amount = document.getElementById("amount").value;
    let note = document.getElementById("note").value;

    if(!date || !amount) return;

    data.push({date,type,amount:parseFloat(amount),note});
    localStorage.setItem("data", JSON.stringify(data));

    showData();
}

function clearData(){
    if(confirm("‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?")){
        localStorage.removeItem("data");
        data=[];
        showData();
    }
}

function showData(){

    let list = document.getElementById("list");
    list.innerHTML="";

    let income=0, expense=0;

    data.forEach(d=>{
        let row = `
        <tr>
            <td>${formatDate(d.date)}</td>
            <td>${d.note}</td>
            <td class="${d.type}">
                ${d.type=="income"?"+":"-"}${d.amount}
            </td>
        </tr>`;
        list.innerHTML+=row;

        if(d.type=="income") income+=d.amount;
        else expense+=d.amount;
    });

    document.getElementById("totalIncome").innerText = income;
    document.getElementById("totalExpense").innerText = expense;
    document.getElementById("balance").innerText = income-expense;
}

showData();

</script>

</body>
</html>
