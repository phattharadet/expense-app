<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢</title>

<style>
body{
  font-family: system-ui;
  background:#f5f5f5;
  margin:0;
  padding:15px;
}
.container{
  max-width:500px;
  margin:auto;
  background:white;
  padding:20px;
  border-radius:16px;
  box-shadow:0 5px 15px rgba(0,0,0,.08);
}
h2{text-align:center;}

input,select,button{
  width:100%;
  padding:12px;
  margin-top:8px;
  border-radius:10px;
  border:1px solid #ddd;
  font-size:16px;
}

button{
  background:black;
  color:white;
  border:none;
}

.list{
  margin-top:15px;
}

.item{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:10px;
  border-bottom:1px solid #eee;
}

.income{color:green;}
.expense{color:red;}

.del{
  background:red;
  padding:5px 10px;
  border-radius:8px;
  color:white;
  font-size:12px;
  width:auto;
}

.summary{
  margin-top:15px;
  font-weight:bold;
}
</style>
</head>

<body>

<div class="container">
<h2>üí∞ ‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢</h2>

<select id="month"></select>

<input type="text" id="desc" placeholder="‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£">
<input type="number" id="amount" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô">

<select id="type">
  <option value="income">‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö</option>
  <option value="expense">‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢</option>
</select>

<button onclick="addItem()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</button>
<button onclick="clearAll()">‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>

<div class="summary" id="summary"></div>
<div class="list" id="list"></div>

</div>

<script>

const thaiMonths = [
"‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏°","‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå","‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°","‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô",
"‡∏û‡∏§‡∏©‡∏†‡∏≤‡∏Ñ‡∏°","‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô","‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏°","‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏°",
"‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô","‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°","‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô","‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏°"
];

const monthSelect = document.getElementById("month");

thaiMonths.forEach((m,i)=>{
  monthSelect.innerHTML += `<option value="${i}">${m}</option>`;
});

monthSelect.value = new Date().getMonth();

function getData(){
  return JSON.parse(localStorage.getItem("expenseData")) || {};
}

function saveData(data){
  localStorage.setItem("expenseData",JSON.stringify(data));
}

function addItem(){

  const desc = document.getElementById("desc").value;
  const amount = document.getElementById("amount").value;
  const type = document.getElementById("type").value;
  const month = monthSelect.value;

  if(!desc || !amount) return;

  const data = getData();

  if(!data[month]) data[month]=[];

  data[month].push({desc,amount,type});

  saveData(data);

  document.getElementById("desc").value="";
  document.getElementById("amount").value="";

  render();
}

function deleteItem(index){

  const month = monthSelect.value;
  const data = getData();

  data[month].splice(index,1);

  saveData(data);
  render();
}

function clearAll(){
  if(confirm("‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î?")){
    localStorage.removeItem("expenseData");
    render();
  }
}

function render(){

  const list = document.getElementById("list");
  const summary = document.getElementById("summary");

  const month = monthSelect.value;
  const data = getData();

  list.innerHTML="";

  let income=0;
  let expense=0;

  if(data[month]){
    data[month].forEach((item,i)=>{

      if(item.type==="income") income+=parseInt(item.amount);
      else expense+=parseInt(item.amount);

      list.innerHTML += `
      <div class="item">
        <div>
          ${item.desc}<br>
          <small class="${item.type}">
          ${item.type==="income"?"+":"-"}${item.amount}
          </small>
        </div>
        <button class="del" onclick="deleteItem(${i})">‡∏•‡∏ö</button>
      </div>`;
    });
  }

  summary.innerHTML = `
  ‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö: ${income} ‡∏ö‡∏≤‡∏ó<br>
  ‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢: ${expense} ‡∏ö‡∏≤‡∏ó<br>
  ‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠: ${income-expense} ‡∏ö‡∏≤‡∏ó
  `;
}

monthSelect.addEventListener("change",render);

render();

</script>

</body>
</html>
